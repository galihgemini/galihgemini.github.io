{"version":3,"file":"app~49ea73a0.bundle.js","mappings":"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","sources":["webpack://restaurant-catalogue/./src/scripts/components/detail-item.js","webpack://restaurant-catalogue/./src/scripts/components/restaurant-item.js","webpack://restaurant-catalogue/./src/scripts/components/review-item.js","webpack://restaurant-catalogue/./src/scripts/data/favorite-restaurant-idb.js","webpack://restaurant-catalogue/./src/scripts/globals/api-endpoint.js","webpack://restaurant-catalogue/./src/scripts/data/restolistapp-source.js","webpack://restaurant-catalogue/./src/scripts/globals/config.js","webpack://restaurant-catalogue/./src/scripts/index.js"],"sourcesContent":["/* eslint-disable accessor-pairs */\r\n/* eslint-disable no-tabs */\r\nimport CONFIG from '../globals/config';\r\n\r\nclass DetailItem extends HTMLElement {\r\n  set restaurant(restaurant) {\r\n    this.render(restaurant);\r\n  }\r\n\r\n  render(restaurant) {\r\n    this.innerHTML = `\r\n\t\t<h2 class=\"restaurant__title\" tabindex=\"0\">${restaurant.name}</h2>\r\n\t\t<img class=\"restaurant__poster\"\r\n\t\tsrc=\"${CONFIG.BASE_IMAGE_URL}/${restaurant.pictureId}\"\r\n\t\talt=\"${restaurant.name}\"\r\n\t\t/>\r\n\t\t<div id=\"like-button\" aria-label=\"like-button\" ></div>\r\n\t\t<div class=\"restaurant__info\" tabindex=\"0\">\r\n\t\t\t<h4>Nilai Rating:</h4>\r\n\t\t\t<p>⭐️${restaurant.rating}</p>\r\n\t\t\t<h4>Alamat:</h4>\r\n\t\t\t<p>${restaurant.address}</p>\r\n\t\t\t<h4>Kota:</h4>\r\n\t\t\t<p>${restaurant.city}</p>\r\n\t\t\t<h4>Deskripsi:</h4>\r\n\t\t\t<p>${restaurant.description}</p>\r\n\t\t</div>\r\n\t\t<div class=\"restaurant__menu\">\r\n\t\t\t<div class=\"restaurant__food\" tabindex=\"0\">\r\n\t\t\t\t<h4>Makanan:</h4>\r\n\t\t\t\t<p>\r\n\t\t\t\t${restaurant.menus.foods\r\n    .map(\r\n      (food) => `\r\n\t\t\t\t<li>${food.name}</li>\r\n\t\t\t\t`,\r\n    )\r\n    .join('')}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"restaurant__drink\" tabindex=\"0\">\r\n\t\t\t\t<h4>Minuman:</h4>\r\n\t\t\t\t<p>\r\n\t\t\t\t${restaurant.menus.drinks\r\n    .map(\r\n      (drinks) => `\r\n\t\t\t\t<li>${drinks.name}</li>\r\n\t\t\t\t`,\r\n    )\r\n    .join('')}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"reviews\">\r\n\t\t\t<h3 class=\"restaurant__review\">Ulasan:</h3>\r\n\t\t\t<div id=\"review-container\"></div>\r\n\t\t</div>\r\n\t`;\r\n  }\r\n}\r\n\r\ncustomElements.define('detail-item', DetailItem);\r\n","/* eslint-disable no-tabs */\r\n/* eslint-disable accessor-pairs */\r\nimport CONFIG from '../globals/config';\r\nimport 'lazysizes';\r\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\r\n\r\nclass RestaurantItem extends HTMLElement {\r\n  set restaurant(restaurant) {\r\n    this.render(restaurant);\r\n  }\r\n\r\n  render(restaurant) {\r\n    this.innerHTML = `\r\n\t<div class=\"restaurant-item\" tabindex=\"0\">\r\n\t\t<div class=\"restaurant-item__header\">\r\n\t\t<div class=\"lazyloads\">\r\n\t\t<img\r\n\t\t\tclass=\"restaurant-item__header__poster\"\r\n\t\t\talt=\"${restaurant.name}\"\r\n\t\t\tsrc=\"${CONFIG.BASE_IMAGE_URL}/${restaurant.pictureId}\"\r\n\t\t/>\r\n\t\t</div>\r\n\t\t<div class=\"restaurant-item__header__rating\">\r\n\t\t\t<p>\r\n\t\t\t⭐️<span class=\"restaurant-item__header__rating__score\"\r\n\t\t\t\t>${restaurant.rating}\r\n\t\t\t   </span>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"restaurant-item__content\">\r\n\t\t<h3 class=\"restaurant-item__names\">\r\n\t\t\t<a href=\"/#/detail/${restaurant.id}\">${restaurant.name}</a>\r\n\t\t</h3>\r\n\t\t<p>${restaurant.description}</p>\r\n\t\t</div>\r\n\t</div>\r\n  `;\r\n  }\r\n}\r\n\r\ncustomElements.define('restaurant-item', RestaurantItem);\r\n","/* eslint-disable no-tabs */\r\n/* eslint-disable accessor-pairs */\r\nclass ReviewItem extends HTMLElement {\r\n  set review(review) {\r\n    this.render(review);\r\n  }\r\n\r\n  render(review) {\r\n    this.innerHTML = `\r\n\t\t\t\t<div class=\"review-item__content\" tabindex=\"0\">\r\n\t\t\t\t\t<p class=\"review-item__name\">${review.name}</p>\r\n\t\t\t\t\t<p class=\"review-item__date\">${review.date}</p>\r\n\t\t\t\t\t<p class=\"review-item__text\">${review.review}</p>\r\n\t\t\t\t</div>\r\n\t\t`;\r\n  }\r\n}\r\n\r\ncustomElements.define('review-item', ReviewItem);\r\n","/* eslint-disable no-prototype-builtins */\r\n/* eslint-disable consistent-return */\r\nimport { openDB } from 'idb';\r\nimport CONFIG from '../globals/config';\r\n\r\nconst { DATABASE_NAME, DATABASE_VERSION, OBJECT_STORE_NAME } = CONFIG;\r\n\r\nconst dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\r\n  upgrade(database) {\r\n    database.createObjectStore(OBJECT_STORE_NAME, { keyPath: 'id' });\r\n  },\r\n});\r\n\r\nconst FavoriteRestaurantIdb = {\r\n  async getRestaurant(id) {\r\n    if (!id) return;\r\n\r\n    return (await dbPromise).get(OBJECT_STORE_NAME, id);\r\n  },\r\n  async getAllRestaurant() {\r\n    return (await dbPromise).getAll(OBJECT_STORE_NAME);\r\n  },\r\n  async putRestaurant(restaurant) {\r\n    if (!restaurant.hasOwnProperty('id')) return;\r\n\r\n    return (await dbPromise).put(OBJECT_STORE_NAME, restaurant);\r\n  },\r\n  async deleteRestaurant(id) {\r\n    return (await dbPromise).delete(OBJECT_STORE_NAME, id);\r\n  },\r\n};\r\n\r\nexport default FavoriteRestaurantIdb;\r\n","import CONFIG from './config';\n\nconst API_ENDPOINT = {\n  LIST: `${CONFIG.BASE_URL}/list`,\n  DETAIL: (id) => `${CONFIG.BASE_URL}/detail/${id}`,\n  REVIEW: `${CONFIG.BASE_URL}/review`,\n};\n\nexport default API_ENDPOINT;\n","import API_ENDPOINT from '../globals/api-endpoint';\n\nclass RestoListApp {\n  static async restaurants() {\n    const response = await fetch(API_ENDPOINT.LIST);\n    const responseJson = await response.json();\n    return responseJson;\n  }\n\n  static async detailRestaurant(id) {\n    const response = await fetch(API_ENDPOINT.DETAIL(id));\n    return response.json();\n  }\n}\n\nexport default RestoListApp;\n","const CONFIG = {\n  BASE_URL: 'https://restaurant-api.dicoding.dev',\n  BASE_IMAGE_URL: 'https://restaurant-api.dicoding.dev/images/small',\n  CACHE_NAME: new Date().toISOString(),\n  DATABASE_NAME: 'restolistapp-database',\n  DATABASE_VERSION: 1,\n  OBJECT_STORE_NAME: 'restolistapp',\n};\n\nexport default CONFIG;\n","import 'regenerator-runtime';\nimport '../styles/style.css';\nimport '../styles/responsive.css';\nimport swRegister from './utils/sw-register';\nimport WebSocketInitiator from './utils/websocket-initiator';\nimport CONFIG from './globals/config';\nimport App from './views/app';\n\nconst app = new App({\n  button: document.querySelector('#hamburgerButton'),\n  drawer: document.querySelector('#navigationDrawer'),\n  content: document.querySelector('#mainContent'),\n});\n\nwindow.addEventListener('hashchange', () => {\n  app.renderPage();\n});\n\nwindow.addEventListener('load', () => {\n  app.renderPage();\n  swRegister();\n  WebSocketInitiator.init(CONFIG.WEB_SOCKET_SERVER);\n});\n"],"names":["DetailItem","restaurant","this","render","innerHTML","name","CONFIG","pictureId","rating","address","city","description","menus","foods","map","food","join","drinks","HTMLElement","customElements","define","RestaurantItem","id","ReviewItem","review","date","DATABASE_NAME","DATABASE_VERSION","OBJECT_STORE_NAME","dbPromise","openDB","upgrade","database","createObjectStore","keyPath","getRestaurant","get","getAllRestaurant","getAll","putRestaurant","hasOwnProperty","put","deleteRestaurant","LIST","DETAIL","REVIEW","fetch","API_ENDPOINT","response","json","responseJson","BASE_URL","BASE_IMAGE_URL","CACHE_NAME","Date","toISOString","app","App","button","document","querySelector","drawer","content","window","addEventListener","renderPage","swRegister","WebSocketInitiator"],"sourceRoot":""}